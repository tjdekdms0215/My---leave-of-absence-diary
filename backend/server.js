const express = require('express');
const cors = require('cors');
const app = express();
const port = process.env.PORT || 3000;
ã…Š
app.use(cors());

// ë‹¤ì€ë‹˜ì˜ ì‹¤ì œ íœ´í•™ íƒ€ìž„ë¼ì¸ ë°ì´í„°
const timelineData = [
    {
        id: 1,
        date: "2025.01",
        title: "ë¦¿ì¹˜ í”„ë¡œëª¨ ì´¬ì˜ ðŸ“¸",
        desc: "ë‚˜ì˜ ì•ˆë¬´ ì°½ìž‘, ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ í”„ë¡œëª¨ ì´¬ì˜ ",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    {
        id: 2,
        date: "2025.02",
        title: "ë¶€ì‚° ì—¬í–‰ê³¼ ì•Œë°”ëª¬ì˜ ì‚¶",
        desc: "ë‚¨ìžì¹œêµ¬ì™€ ì²« ì—¬í–‰, ì“°ë¦¬ìž¡ê¹Œì§€ ë›°ì—ˆì–´ì—¬",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 3,
        date: "2025.03",
        title: "í•œí™” ì›ì •ê²½ê¸°ì™€ ë˜ ì•Œë°”,,",
        desc: "í•˜ì—°ì–¸ë‹ˆì™€ ë– ë‚œ í•œí™” ì›ì •ê²½ê¸°, ê²°ê³¼ëŠ”? Hmm~~",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 4,
        date: "2025.04",
        title: "ë„ì¿„ì—¬í–‰, ì•¼êµ¬",
        desc: "í•˜ì—°ì–¸ë‹ˆì™€ ë– ë‚œ ë„ì¿„ì—¬í–‰",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    {
        id: 5,
        date: "2025.05",
        title: "ë§ˆë¼í†¤ê³¼ ì²« í˜¼ì—¬í–‰ ðŸ”¥",
        desc: "ë²„í‚·ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ë¤˜ë˜ 5ì›”!",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 6,
        date: "2025.06",
        title: "ë‚´ ìƒì¼ê³¼ í›„ì¿ ì˜¤ì¹´ ì—¬í–‰",
        desc: "í–‰ë³µí–ˆë˜ ìƒì¼ê³¼ ì²« í›„ì¿ ì˜¤ì¹´!",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 7,
        date: "2025.07",
        title: "ë¬´ë¹ˆì—…, ìºë¦¬ë¹„ì•ˆ ë² ì´, ë˜ë‹¤ì‹œ ì‹œìž‘ëœ ì—°ìŠµ",
        desc: "ì•„ì£¼ ë°”ì˜ë‹¤ ë°”ë¹ ",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 8,
        date: "2025.08",
        title: "í•œëŠ¥ê²€ ì‹œí—˜ê³¼ ì—°ìŠµ",
        desc: "ì˜¤ëžœë§Œì— ê³µë¶€í•˜ë‹ˆê¹Œ ìž¼ì¼ë‹¤ã…Žã…Ž",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 9,
        date: "2025.09",
        title: "ìƒˆë¡œìš´ ì•Œë°”ì™€ ê³µì—°ë“¤~",
        desc: "ë¦¬í—ˆì„¤í•˜ëž´, ê³µì—°í•˜ëž´ ë°”ë¹ ìš”",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 10,
        date: "2025.10",
        title: "ì—¬ìˆ˜, ì œì£¼ë„ë¡œ ë– ë‚˜ìš”~",
        desc: "ì²˜ìŒìœ¼ë¡œ í˜¼ìžì„œ ì œëŒ€ë¡œ ëœ í˜¼ì—¬í–‰ì„ ë– ë‚¬ë‹¤.",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 11,
        date: "2025.11",
        title: "ì •ê¸°ê³µì—°ê³¼ ë‹¨ë°œ, 1ì£¼ë…„",
        desc: "ë§ˆì§€ë§‰ ê³µì—°, ê·¸ë¦¬ê³  ì²« ì„±í˜•ì™¸ê³¼,,",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 12,
        date: "2025.12",
        title: "ë˜ ì•Œë°”, í¬ë¦¬ìŠ¤ë§ˆìŠ¤",
        desc: "ë˜ë˜ ì•Œë°”,, ì•Œë°”ëª¬ì˜ ì‚¶",
        content:"ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 13,
        date: "2026.01",
        title: "ê³„ì ˆí•™ê¸°, ë“œë””ì–´ ì•Œë°”ëª¬ ì²­ì‚°",
        desc: "36.5ë„ëŠ” ì •ë§ ëª…ê°•ìž…ë‹ˆë‹¤",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
    },
    {
        id: 14,
        date: "2026.02",
        title: "ì²« ìœ ëŸ½ì—¬í–‰ê³¼ ë³µí•™ì¤€ë¹„",
        desc: "ìš°ë‹¹íƒ•íƒ• í¬ë¥´íˆ¬ê°ˆ í›„ê¸°",
        content: "ì±„ì›Œì§ˆ ë‚´ìš©,,"
];

app.get('/', (req, res) => {
    res.send('ë‹¤ì€ë‹˜ì˜ ë°±ì—”ë“œ ì„œë²„ê°€ ìž˜ ëŒì•„ê°€ê³  ìžˆì–´ìš”!');
});

app.get('/api/timeline', (req, res) => {
    res.json(timelineData);
});
// ... ê¸°ì¡´ /api/timeline ì½”ë“œ ì•„ëž˜ì— ì´ì–´ì„œ ìž‘ì„± ...

// ðŸŒŸ ì¶”ê°€í•  ë‚´ìš©: íŠ¹ì • IDì˜ ì¼ê¸°ë§Œ ê°€ì ¸ì˜¤ëŠ” ê¸°ëŠ¥
app.get('/api/timeline/:id', (req, res) => {
    // URLì—ì„œ ë³´ë‚¸ ìˆ«ìž(id)ë¥¼ ì½ì–´ì˜µë‹ˆë‹¤.
    const postId = parseInt(req.params.id);
    
    // ë°ì´í„° ì¤‘ì—ì„œ ê·¸ ìˆ«ìžì— ë§žëŠ” ì¼ê¸°ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
    const post = timelineData.find(item => item.id === postId);
    
    if (post) {
        res.json(post); // ì°¾ìœ¼ë©´ ê·¸ ì¼ê¸°ë§Œ ë³´ë‚´ì¤Œ
    } else {
        res.status(404).json({ error: "ì¼ê¸°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." });
    }
});

// app.listen(...) ë¶€ë¶„ì€ ê·¸ëŒ€ë¡œ ë‘ì‹œë©´ ë©ë‹ˆë‹¤.

app.listen(port, () => {
    console.log(`ì„œë²„ ì‹¤í–‰ ì™„ë£Œ: http://localhost:${port}`);
});